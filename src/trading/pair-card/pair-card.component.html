<mat-card cdkDrag>
  <mat-card-content>
    <mat-expansion-panel (opened)="onPanelOpen()" (closed)="onPanelClose()">
      <mat-expansion-panel-header
        class="panel-header"
        [style.background-color]="headerColor"
      >
        <mat-panel-title>
          <img class="logo" [src]="logoSrc" loading="lazy" />
          <span class="coin-info">
            <strong>{{ pair }}</strong> /
            <span matTooltip="current price">{{
              ticker?.last | number: '1.0-10'
            }}</span>
            <sup
              class="change-percentage"
              [class.down]="priceDown"
              matTooltip="change percentage"
              >{{ ticker?.change_percentage | number: '1.0-2' }}</sup
            >
            /
            <span matTooltip="average buy price">{{
              averages?.buy?.price | number: '1.0-10'
            }}</span>
            /
            <span matTooltip="average sell price">{{
              averages?.sell?.price | number: '1.0-10'
            }}</span>
          </span>
        </mat-panel-title>
        <mat-icon
          *ngIf="attentionMessage"
          class="attention"
          [matTooltip]="attentionMessage"
          >warning_amber</mat-icon
        >
        <sup class="estimated-total" matTooltip="estimated total">{{
          estimatedTotal | number: '1.0-2'
        }}</sup>
        <sup class="open-orders">
          <span class="buy" matTooltip="total buy orders">{{ buyOrders }}</span
          >/<span class="sell" matTooltip="total sell orders">{{
            sellOrders
          }}</span>
        </sup>
        <mat-icon
          class="remove"
          (click)="removeCard($event)"
          matTooltip="remove pair"
          >delete_outline</mat-icon
        >
        <mat-icon class="drag-handle" cdkDragHandle>drag_indicator</mat-icon>
        <!-- <mat-panel-description>
        </mat-panel-description> -->
      </mat-expansion-panel-header>
      <app-pair-card-content
        *ngIf="panelOpenState"
        [pair]="pair"
        [ticker]="ticker"
        [averages]="averages"
        [recent]="recent"
        [openOrders]="openOrders"
        [exchange]="exchange"
      >
      </app-pair-card-content>
    </mat-expansion-panel>
  </mat-card-content>
</mat-card>
